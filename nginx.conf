server {
    listen 80;
    server_name _;
    root /usr/share/nginx/html;

    # Serve .well-known files with correct content type
    location /.well-known/apple-app-site-association {
        default_type application/json;
        add_header Content-Type application/json;
        add_header Access-Control-Allow-Origin *;
    }

    location /.well-known/assetlinks.json {
        default_type application/json;
        add_header Content-Type application/json;
        add_header Access-Control-Allow-Origin *;
    }

    # Serve index.html for ALL routes (deep linking support)
    location / {
        try_files $uri /index.html;
    }
}